<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Inicio</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
 #map { height: 400px; width: 100%; }
body {
    background: #1a3a6e;
            min-height: 100vh; /* Asegura que el fondo cubra toda la altura de la pantalla */
            display: flex;
            flex-direction: column;
            align-items: center; /* Centra el contenido horizontalmente */
            justify-content: center; }
    .custom-nav {
      background-color: #1a3a6e;
    }
    footer{background-color: white;
    width: 100%;}
    h1 {
            color: #ffffff; /* Color blanco para contraste */
            margin-bottom: 20px; /* Espacio debajo del título */
        }
 

    .card-horizontal {
      max-width: 900px;
      margin: 20px auto;
      border: none;
      background-color: #b9cbea;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .card-horizontal .card-body {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .card-horizontal img {
      max-width: 100%;
      margin-bottom: 15px;
    }

    .custom-footer{
        margin-top: 20vh;
    }

    
        .card {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
            max-width: calc(100% - 200px); /* Reduce el ancho de la tarjeta en 100px */
            margin: 0 auto; /* Centra la tarjeta en la página */
        }
    
  </style>
</head>
<body>
    
  <nav class="navbar navbar-expand-lg  d-flex justify-content-center custom-nav">
    <ul class="nav nav-pills m-3" id="pills-tab" role="tablist">
      <li class="nav-item" role="presentation">
        <a class="nav-link text-white" id="pills-home-tab" href="../index.html" role="tab" aria-controls="pills-home" aria-selected="true">Inicio</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link text-white active" id="pills-profile-tab" href="campania.html" role="tab" aria-controls="pills-profile" aria-selected="false">Campaña</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link text-white" id="pills-contact-tab" href="notificaciones.html" role="tab" aria-controls="pills-contact" aria-selected="false">Notificaciones</a>
      </li>
    </ul>
  </nav>
  <br>
  <h1>Campaña de vacunación contra el dengue</h1>
  <div class="container mt-5">
    <div class="card">
        <div class="card-header">
            Datos personales
        </div>
        <div class="card-body">
            <form action="inscribirse2.html" method="post">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="nombre" class="form-label">Nombre</label>
                        <input type="text" class="form-control" id="nombre" placeholder="Ingrese su nombre">
                    </div>
                    <div class="col-md-6">
                        <label for="apellido" class="form-label">Apellido</label>
                        <input type="text" class="form-control" id="apellido" placeholder="Ingrese su apellido">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="dni" class="form-label">DNI</label>
                        <input type="text" class="form-control" id="dni" placeholder="Ingrese su DNI">
                    </div>
                    <div class="col-md-6">
                        <label for="fechaNacimiento" class="form-label">Fecha de nacimiento</label>
                        <input type="date" class="form-control" id="fechaNacimiento">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Ingrese su email">
                    </div>
                    <div class="col-md-6">
                        <label for="telefono" class="form-label">Teléfono</label>
                        <input type="text" class="form-control" id="telefono" placeholder="Ingrese su teléfono">
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-primary">Siguiente</button>
                </div>
                <div class="form-group">
                    <label for="municipio">Municipio</label>
                    <select id="municipio" class="form-control">
                        <option value="La Matanza">La Matanza</option>
                        <option value="Moreno">Moreno</option>
                        <option value="Morón">Morón</option>
                    </select>
                </div>
        
                <!-- Selección de Posta Vacunatoria -->
                <div class="form-group">
                    <label for="posta-vacunatoria">Posta Vacunatoria</label>
                    <select id="posta-vacunatoria" class="form-control">
                        <!-- Las opciones se cargarán dinámicamente -->
                    </select>
                </div>
        
                <!-- Mapa -->
              
            </form>
           
        </div>
    
    </div>
    <div id="map"></div>
</div>







  
  <!-- Añadir iconos de Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">  
  


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

<footer class="text-dark py-4 custom-footer">
    <div class="container">
      <div class="row border-top pt-4">
        <!-- Sección de información -->
        <div class="col-md-4 mb-3 text-center text-md-start">
          <h5>Acerca de Nosotros</h5>
          <p>Informamos a la comunidad sobre la prevención y vacunación contra el dengue. Únete a la lucha contra la enfermedad.</p>
        </div>
        
        <!-- Sección de enlaces -->
        <div class="col-md-4 mb-3 text-center">
          <h5>Enlaces rápidos</h5>
          <ul class="list-unstyled">
            <li><a href="index.html" class="text-dark text-decoration-none">Inicio</a></li>
            <li><a href="./pages/campania.html" class="text-dark text-decoration-none">Campaña</a></li>
            <li><a href="./pages/notificaciones.html" class="text-dark text-decoration-none">Notificaciones</a></li>
          </ul>
        </div>
        
        <!-- Sección de redes sociales -->
        <div class="col-md-4 mb-3 text-center text-md-end">
          <h5>Síguenos</h5>
          <a href="#" class="text-dark me-3"><i class="bi bi-facebook"></i></a>
          <a href="#" class="text-dark me-3"><i class="bi bi-twitter"></i></a>
          <a href="#" class="text-dark me-3"><i class="bi bi-instagram"></i></a>
        </div>
      </div>
      
      <div class="row mt-4">
        <div class="col text-center">
          <p class="mb-0">© 2024 Todos los derechos reservados</p>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
        let map; // Declarar la variable del mapa en un ámbito más amplio
  
        // Datos de las postas y sus coordenadas
        const ubicaciones = {
            "La Matanza": {
                "UNLAM": { lat: -34.710, lng: -58.574, direccion: "Universidad Nacional de La Matanza" },
                "Plaza San Justo": { lat: -34.728, lng: -58.597, direccion: "Plaza San Justo" },
                "Predio Alberto Balestrini": { lat: -34.722, lng: -58.561, direccion: "Predio Deportivo Alberto Balestrini" }
            },
            "Moreno": {
                // Aquí colocaríamos las postas de Moreno
            },
            "Morón": {
                // Aquí colocaríamos las postas de Morón
            }
        };
  
        // Inicialización del mapa
        function initMap() {
            map = L.map('map').setView([-34.710, -58.574], 13); // Mapa inicial en La Matanza
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
        }
  
        // Función para cargar las postas de un municipio
        function cargarPostas(municipio) {
            const postaSelect = document.getElementById('posta-vacunatoria');
            postaSelect.innerHTML = ''; // Limpiar las opciones anteriores
  
            // Agregar las opciones correspondientes al municipio seleccionado
            for (let posta in ubicaciones[municipio]) {
                const option = document.createElement('option');
                option.value = posta;
                option.textContent = ubicaciones[municipio][posta].direccion;
                postaSelect.appendChild(option);
            }
  
            // Si no se ha seleccionado una posta, deshabilitar el select
            if (postaSelect.options.length === 0) {
                postaSelect.disabled = true;
            } else {
                postaSelect.disabled = false;
            }
        }
  
        // Función para agregar los marcadores al mapa
        function agregarMarcadores(municipio) {
            // Limpiar marcadores anteriores
            map.eachLayer(function(layer) {
                if (layer instanceof L.Marker) {
                    map.removeLayer(layer);
                }
            });
  
            // Agregar nuevos marcadores para el municipio seleccionado
            for (let posta in ubicaciones[municipio]) {
                const { lat, lng, direccion } = ubicaciones[municipio][posta];
                const marker = L.marker([lat, lng]).addTo(map);
                marker.bindPopup(direccion);
                marker.on('click', function() {
                    // Actualizar el select de la posta cuando se hace clic en el marcador
                    document.getElementById('municipio').value = municipio;
                    document.getElementById('posta-vacunatoria').value = posta;
                    actualizarMapa(posta, municipio);
                });
            }
        }
  
        // Función para actualizar el mapa con la posta seleccionada
        function actualizarMapa(posta, municipio) {
            const { lat, lng } = ubicaciones[municipio][posta];
            map.setView([lat, lng], 14); // Centrar el mapa en la posta seleccionada
        }
  
        // Inicialización: Cargar datos al iniciar
        $(document).ready(function() {
            initMap(); // Inicializa el mapa
  
            const municipioSeleccionado = document.getElementById('municipio').value;
            cargarPostas(municipioSeleccionado);
            agregarMarcadores(municipioSeleccionado);
  
            // Cuando se cambia el municipio, actualizar las postas y los marcadores
            $('#municipio').change(function() {
                const municipio = $(this).val();
                cargarPostas(municipio);
                agregarMarcadores(municipio);
            });
  
            // Cuando se cambia la posta, actualizar el mapa
            $('#posta-vacunatoria').change(function() {
                const municipio = $('#municipio').val();
                const posta = $(this).val();
                actualizarMapa(posta, municipio);
            });
        });
    });
  </script>
  

</html>